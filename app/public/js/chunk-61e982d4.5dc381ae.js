(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61e982d4"],{2653:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("CarList",{attrs:{cars:"cars"}})],1)},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mt-4"},[r("b-table",{staticClass:"m-0 p-0 border",attrs:{striped:"",hover:"",items:e.cars,fields:e.fields},scopedSlots:e._u([{key:"cell(Opcoes)",fn:function(t){var a=t.item;return[r("b-button",{staticClass:"mr-2",attrs:{variant:"primary"},on:{click:function(t){return e.$router.push("/app/car/form/"+a.id)}}},[r("b-icon",{attrs:{icon:"pencil","aria-hidden":"true"}}),e._v(" Editar")],1),r("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.excluir(a)}}},[e._v("Excluir")])]}}])})],1)},o=[],c=(r("c740"),r("a434"),r("5530")),i=(r("96cf"),r("1da1")),l=r("e443"),u=r("2f62"),d={name:"CarList",data:function(){return{cars:[],fields:[{key:"id",label:"Cód",sortable:!0},{key:"brand.name",label:"Marca",sortable:!0},{key:"model",label:"Modelo",sortable:!0},{key:"year",label:"Ano",sortable:!0},{key:"Opcoes",label:"Opções",sortable:!1}],car:null}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.setTitle({title:"Dashboard / Carros"}),e.readCars();case 2:case"end":return t.stop()}}),t)})))()},methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["setLoad","setTitle","setToast"])),{},{readCars:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setLoad({load:!0}),t.next=4,l["a"].get("cars").then((function(t){e.cars=t.data.data}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0),e.setToast({toast:{show:!0,variant:"danger",message:"Erro ao buscar Carros.",title:"Erro!"}});case 10:return t.prev=10,e.setLoad({load:!1}),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,6,10,13]])})))()},excluir:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=window.confirm("Deseja realmente excluir ?"),!a){r.next=15;break}return r.prev=2,t.setLoad({load:!0}),r.next=6,l["a"].delete("cars/"+e.id).then((function(r){if(200===r.status){var a=t.cars.findIndex((function(t){return t.id===e.id}));t.cars.splice(a,1),t.setToast({toast:{show:!0,variant:"success",message:"Carro excluido com sucesso.",title:"Sucesso!"}})}}));case 6:r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](2),console.log(r.t0),t.setToast({toast:{show:!0,variant:"danger",message:"Erro ao deletar o carro.",title:"Erro!"}});case 12:return r.prev=12,t.setLoad({load:!1}),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[2,8,12,15]])})))()}})},f=d,p=r("2877"),b=Object(p["a"])(f,s,o,!1,null,null,null),h=b.exports,m={name:"Home",components:{CarList:h}},v=m,g=Object(p["a"])(v,a,n,!1,null,null,null);t["default"]=g.exports},a434:function(e,t,r){"use strict";var a=r("23e7"),n=r("23cb"),s=r("a691"),o=r("50c4"),c=r("7b0b"),i=r("65f0"),l=r("8418"),u=r("1dde"),d=r("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,h=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var r,a,u,d,f,p,g=c(this),w=o(g.length),x=n(e,w),k=arguments.length;if(0===k?r=a=0:1===k?(r=0,a=w-x):(r=k-2,a=h(b(s(t),0),w-x)),w+r-a>m)throw TypeError(v);for(u=i(g,a),d=0;d<a;d++)f=x+d,f in g&&l(u,d,g[f]);if(u.length=a,r<a){for(d=x;d<w-a;d++)f=d+a,p=d+r,f in g?g[p]=g[f]:delete g[p];for(d=w;d>w-a+r;d--)delete g[d-1]}else if(r>a)for(d=w-a;d>x;d--)f=d+a-1,p=d+r-1,f in g?g[p]=g[f]:delete g[p];for(d=0;d<r;d++)g[d+x]=arguments[d+2];return g.length=w-a+r,u}})},c740:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").findIndex,s=r("44d2"),o=r("ae40"),c="findIndex",i=!0,l=o(c);c in[]&&Array(1)[c]((function(){i=!1})),a({target:"Array",proto:!0,forced:i||!l},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(c)}}]);
//# sourceMappingURL=chunk-61e982d4.5dc381ae.js.map